
Процедура ОбработкаЗаполнения(ДанныеЗаполнения, СтандартнаяОбработка)

	Если ТипЗнч(ДанныеЗаполнения) = Тип("СправочникСсылка.ПрофилиДолжностей") Тогда
		// Заполнение шапки
		ГрафикРаботы = ДанныеЗаполнения.ГрафикРаботы;
		ДоВычетаНалога = ДанныеЗаполнения.ДоВычетаНалога;
		ДолжностныеОбязанности = ДанныеЗаполнения.ДолжностныеОбязанности;
		ВакантнаяДолжность = ДанныеЗаполнения.Должность;
		КатегорияДолжности = ДанныеЗаполнения.КатегорияДолжности;
		Образование = ДанныеЗаполнения.Образование;
		ОплатаТрудаДо = ДанныеЗаполнения.ОплатаТрудаДо;
		ОплатаТрудаОт = ДанныеЗаполнения.ОплатаТрудаОт;
		ОпытРаботы = ДанныеЗаполнения.ОпытРаботы;
		Подразделение = ДанныеЗаполнения.Подразделение;
		ИнициаторЗаявки = ДанныеЗаполнения.РуководительПодразделения;
		ПрофильДолжности = ДанныеЗаполнения.Ссылка;
		ТипЗанятости = ДанныеЗаполнения.ТипЗанятости;
		Требования = ДанныеЗаполнения.Требования;
		Условия = ДанныеЗаполнения.Условия;
		ФорматРаботы = ДанныеЗаполнения.ФорматРаботы;
		Для Каждого ТекСтрокаЗнанияЯзыков Из ДанныеЗаполнения.ЗнанияЯзыков Цикл
			НоваяСтрока = ЗнанияЯзыков.Добавить();
			НоваяСтрока.УровеньВладения = ТекСтрокаЗнанияЯзыков.УровеньВладения;
			НоваяСтрока.Язык = ТекСтрокаЗнанияЯзыков.Язык;
		КонецЦикла;
		Для Каждого ТекСтрокаЛичныеКачества Из ДанныеЗаполнения.ЛичныеКачества Цикл
			НоваяСтрока = ЛичныеКачества.Добавить();
			НоваяСтрока.Качество = ТекСтрокаЛичныеКачества.Качество;
		КонецЦикла;
		Для Каждого ТекСтрокаПрофессиональныеНавыки Из ДанныеЗаполнения.КлючевыеНавыки Цикл
			НоваяСтрока = КлючевыеНавыки.Добавить();
			НоваяСтрока.Навык = ТекСтрокаПрофессиональныеНавыки.Навык;
			НоваяСтрока.УровеньВладения = ТекСтрокаПрофессиональныеНавыки.УровеньВладения;
		КонецЦикла;
	КонецЕсли;

КонецПроцедуры

Процедура ОбработкаПроведения(Отказ, Режим)

	// регистр ДвиженияЗаявокНаПодбор 
	Движения.ДвиженияЗаявокНаПодбор.Записывать = Истина;
	Движение = Движения.ДвиженияЗаявокНаПодбор.Добавить();
	Движение.Период = Дата;
	Движение.СтатусЗаявки = СтатусЗаявки;
	Движение.Подразделение = Подразделение;
	Движение.ВакантнаяДолжность = ВакантнаяДолжность;
	Движение.ИнициаторЗаявки = ИнициаторЗаявки;
	Движение.ПричинаОткрытияВакансии = ПричинаОткрытияВакансии;
	Движение.ПланируемыйСрокЗакрытия = ПланируемыйСрокЗакрытия;
    Движение.Количество = 1;

КонецПроцедуры
